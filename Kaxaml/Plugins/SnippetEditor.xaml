<Window
    x:Name="This"
    x:Class="Kaxaml.Plugins.SnippetEditor"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:c="clr-namespace:Kaxaml.Controls"
    xmlns:settings="clr-namespace:Kaxaml.Properties"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:behaviors="clr-namespace:KaxamlPlugins.Behaviors;assembly=KaxamlPlugins"
    Title="Snippet Editor"
    Height="480"
    MinHeight="160"
    Width="640"
    MinWidth="360"
    WindowStartupLocation="CenterOwner"
    WindowState="Normal"
    Background="#303030"
    WindowStyle="ToolWindow"
    FontSize="7.5pt"
    FontFamily="Verdana"
    Foreground="#DDD">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="\Resources\PluginTheme.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <b:Interaction.Behaviors>
        <behaviors:HideCloseButtonBehavior />
    </b:Interaction.Behaviors>

    <Grid
        SnapsToDevicePixels="True">

        <Grid.RowDefinitions>
            <RowDefinition
                Height="10" />
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="7" />
            <RowDefinition
                Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="7" />
            <ColumnDefinition
                Width="Auto" />
            <ColumnDefinition
                Width="*" />
            <ColumnDefinition
                Width="Auto" />
            <ColumnDefinition
                Width="*" />
            <ColumnDefinition
                Width="0.1*" />
            <ColumnDefinition
                Width="Auto" />
            <ColumnDefinition
                Width="Auto" />
            <ColumnDefinition
                Width="7" />
        </Grid.ColumnDefinitions>

        <!--NAME BLOCK-->
        <TextBlock
            Grid.Column="1"
            Grid.Row="1"
            Margin="0,0,5,3"
            VerticalAlignment="Center"
            Text="Name:" />
        <TextBox
            Grid.Column="2"
            Grid.Row="1"
            Text="{Binding ElementName=This, Path=Snippet.Name, Mode=TwoWay}"
            HorizontalContentAlignment="Center"
            VerticalAlignment="Center"
            Margin="0,0,5,1" />

        <!--SHORTCUT BLOCK-->
        <TextBlock
            Grid.Column="3"
            Grid.Row="1"
            Margin="5,0,0,3"
            VerticalAlignment="Center"
            Text="Shortcut:" />
        <TextBox
            Grid.Column="4"
            Grid.Row="1"
            Text="{Binding ElementName=This, Path=Snippet.Shortcut, Mode=TwoWay}"
            HorizontalContentAlignment="Center"
            VerticalAlignment="Center"
            Margin="5,0,0,1" />

        <!--CANCEL AND SAVE BUTTONS-->
        <Button
            Content="Cancel"
            Click="DoCancel"
            Grid.Column="6"
            Grid.Row="1"
            Margin="2"
            VerticalAlignment="Top"
            IsCancel="True"
            FontWeight="Bold"
            Foreground="OrangeRed" />
        <Button
            Content="Save"
            Click="DoDone"
            Grid.Column="7"
            Grid.Row="1"
            Margin="2"
            VerticalAlignment="Top"
            IsDefault="True"
            FontWeight="Bold"
            Foreground="GreenYellow" />

        <!--MAIN TEXT EDITOR-->
        <c:KaxamlTextEditor
            x:Name="Editor"
            Grid.Row="4"
            Grid.Column="0"
            Grid.ColumnSpan="9"
            FontFamilyName="{Binding Source={x:Static settings:Settings.Default}, Path=EditorFontFamily, Mode=TwoWay}"
            FontSize="{Binding Source={x:Static settings:Settings.Default}, Path=EditorFontSize, Mode=TwoWay}"
            ConvertTabs="{Binding Source={x:Static settings:Settings.Default}, Path=ConvertTabs}"
            ConvertTabsCount="{Binding Source={x:Static settings:Settings.Default}, Path=ConvertTabsCount}"
            ShowLineNumbers="{Binding Source={x:Static settings:Settings.Default}, Path=ShowLineNumbers}"
            EnableSyntaxHighlighting="{Binding Source={x:Static settings:Settings.Default}, Path=EnableSyntaxHighlighting}"
            EnableXmlFolding="{Binding Source={x:Static settings:Settings.Default}, Path=EnableXmlFolding}"
            IsCodeCompletionEnabled="{Binding Source={x:Static settings:Settings.Default}, Path=EnableCodeCompletion}"
            Text="{Binding ElementName=This, Path=Snippet.Text, Mode=TwoWay}" />
    </Grid>

</Window>